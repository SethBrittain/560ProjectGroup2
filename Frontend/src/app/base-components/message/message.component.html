<div [style.display]="allVisible ? 'flex' : 'none'" (mouseover)="showButtons()" (mouseout)="hideButtons()" class="flex w-full py-3 px-1">
    <div class="mt-1 shrink-0 w-10 h-10 rounded-full">
        <img class="w-10 h-10 rounded-full bg-slate-200 dark:bg-slate-700" src="{{ image }}" (error)="updateAvatar()" alt="user photo">
    </div>
    <div class="pl-4 w-full">
        <div class="flex flex-row items-center">
            <p class="text-base font-semibold text-gray-700 dark:text-gray-300 pr-2">{{ firstName }} {{ lastName }}</p>
            <p class="text-sm text-gray-600 dark:text-gray-400 mr-2">{{ dateSent | date }}</p>
            <div [style.display]="isMine==1 ? 'block' : 'none' ">
                <div class="flex flex-row items-center">
                    <a (click)="editMessage()" [style.display]="editVisible ? 'block' : 'none'"><svg aria-hidden="true" class="cursor-pointer text-gray-500 dark:text-gray-400 hover:text-indigo-500 mr-2 transition ease-in-out" width="16" height="16" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.5298 3.53023C11.7892 3.27084 12.2097 3.27085 12.4691 3.53024C12.7285 3.78962 12.7285 4.21015 12.4691 4.46953L12.0066 4.93197C11.5067 4.89584 11.1035 4.49263 11.0673 3.9927L11.5298 3.53023ZM9.81043 3.12825C9.80472 3.13378 9.7991 3.1394 9.79357 3.14511L4.36925 8.56937L4.29571 8.64289C3.58735 9.35097 3.12986 9.80827 2.81111 10.3712C2.49235 10.9342 2.33559 11.5618 2.09287 12.5335L2.06766 12.6344L1.93842 13.1513C1.87453 13.4069 1.94942 13.6773 2.1357 13.8636C2.32199 14.0499 2.59235 14.1247 2.84793 14.0608L3.36489 13.9316L3.46578 13.9064H3.46578C4.43749 13.6637 5.06505 13.5069 5.62802 13.1882C6.19099 12.8694 6.64829 12.4119 7.35636 11.7036L7.42989 11.63L12.8568 6.20312C12.8607 6.19929 12.8646 6.19541 12.8684 6.19149L13.5297 5.53019C14.3749 4.68503 14.3749 3.31477 13.5298 2.4696C12.6846 1.62441 11.3143 1.62439 10.4691 2.46956L9.81043 3.12825ZM10.8344 6.10417L6.36923 10.5694C5.56247 11.3761 5.25306 11.6767 4.88897 11.8829C4.61418 12.0384 4.30928 12.1396 3.70037 12.2989C3.85962 11.69 3.96082 11.3851 4.11641 11.1103C4.32255 10.7462 4.62314 10.4368 5.42991 9.63004L9.89512 5.16487C10.1189 5.55501 10.4443 5.88042 10.8344 6.10417Z" fill="#currentColor"/></svg></a>
                    <a (click)="deleteMessage()" [style.display]="deleteVisible ? 'block' : 'none'"><svg aria-hidden="true" class="cursor-pointer text-gray-500 dark:text-gray-400 hover:text-indigo-500 transition ease-in-out" width="16" height="16" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.40621 1.25L7.44152 1.25001H8.55848L8.59379 1.25C8.91119 1.24996 9.20923 1.24993 9.45898 1.27844C9.73713 1.3102 10.0296 1.38362 10.3025 1.58033C10.5754 1.77705 10.7375 2.03125 10.8556 2.28509C10.9617 2.513 11.0559 2.79576 11.1562 3.09688L11.1674 3.13038L11.2072 3.25001H12.6667H14C14.4142 3.25001 14.75 3.58579 14.75 4.00001C14.75 4.41422 14.4142 4.75001 14 4.75001H13.3683L13.0144 10.0588L13.0053 10.1966C12.9402 11.1785 12.8956 11.8508 12.6669 12.4131C12.2532 13.4301 11.4145 14.2147 10.3722 14.5599C9.79599 14.7507 9.12224 14.7504 8.13812 14.75L8 14.75L7.86188 14.75C6.87776 14.7504 6.20401 14.7507 5.6278 14.5599C4.58549 14.2147 3.74681 13.4301 3.33307 12.4131C3.10435 11.8508 3.05981 11.1785 2.99474 10.1966L2.98559 10.0588L2.63167 4.75001H2C1.58579 4.75001 1.25 4.41422 1.25 4.00001C1.25 3.58579 1.58579 3.25001 2 3.25001H3.33333H4.79276L4.83264 3.13038L4.8438 3.09689C4.94413 2.79576 5.03835 2.513 5.14438 2.28509C5.26246 2.03125 5.42459 1.77705 5.69752 1.58033C5.97045 1.38362 6.26287 1.3102 6.54102 1.27844C6.79077 1.24993 7.08881 1.24996 7.40621 1.25ZM6.37557 3.25001H9.62443C9.57432 3.10613 9.53456 3.00155 9.49559 2.91778C9.46603 2.85424 9.44572 2.82282 9.43484 2.80824C9.42981 2.8015 9.42698 2.79862 9.42637 2.79802L9.42542 2.7972L9.42434 2.79655C9.42357 2.79616 9.41995 2.79439 9.41196 2.79175C9.39469 2.78604 9.35846 2.77671 9.28883 2.76876C9.13449 2.75114 8.92362 2.75001 8.55848 2.75001H7.44152C7.07638 2.75001 6.86551 2.75114 6.71117 2.76876C6.64154 2.77671 6.60531 2.78604 6.58804 2.79175C6.58005 2.79439 6.57643 2.79616 6.57566 2.79655L6.57458 2.7972L6.57363 2.79802C6.57302 2.79862 6.57019 2.8015 6.56516 2.80824C6.55428 2.82282 6.53397 2.85424 6.50441 2.91778C6.46544 3.00155 6.42568 3.10613 6.37557 3.25001ZM4.135 4.75001L4.48226 9.95897C4.56051 11.1327 4.59716 11.5397 4.72251 11.8478C4.97075 12.4581 5.47396 12.9288 6.09934 13.1359C6.41512 13.2405 6.82371 13.25 8 13.25C9.17629 13.25 9.58488 13.2405 9.90066 13.1359C10.526 12.9288 11.0293 12.4581 11.2775 11.8478C11.4028 11.5397 11.4395 11.1327 11.5177 9.95898L11.865 4.75001H10.6667H5.33333H4.135ZM6.66667 5.91667C7.08088 5.91667 7.41667 6.25246 7.41667 6.66667V11.3333C7.41667 11.7476 7.08088 12.0833 6.66667 12.0833C6.25245 12.0833 5.91667 11.7476 5.91667 11.3333V6.66667C5.91667 6.25246 6.25245 5.91667 6.66667 5.91667ZM10.0833 6.66667C10.0833 6.25246 9.74755 5.91667 9.33333 5.91667C8.91912 5.91667 8.58333 6.25246 8.58333 6.66667V9.33334C8.58333 9.74755 8.91912 10.0833 9.33333 10.0833C9.74755 10.0833 10.0833 9.74755 10.0833 9.33334V6.66667Z" fill="currentColor"/></svg></a>      
                </div>
            </div>
        </div>
        <div #messageText [style.display]="pVisible ? 'block' : 'none'"><p class="h-auto text-base text-gray-700 dark:text-gray-100 pr-2 w-full" >{{message}}</p></div>
        <textarea [style.display]="aVisible ? 'block' : 'none'" #messageInput hidden (keyup)="getVal($event)" (keyup.enter)="updateMessage()" class="block w-full py-2 px-4 text-sm text-gray-900 border border-slate-300 rounded-lg bg-slate-50 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-800 dark:border-gray-700 dark:placeholder-gray-400 dark:text-white dark:focus:ring-indigo-500 dark:focus:border-indigo-500 hover:bg-white dark:hover:bg-gray-700 transition ease-in-out" value={{message}}></textarea>
    </div>
</div>
